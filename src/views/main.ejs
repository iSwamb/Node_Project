<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeJS - Projet Films - Main</title>
</head>
<body>
<h1>Liste des films</h1>

<div id="movies">
    <% movies.forEach((movie) => { %>
        <div class="movie" data-id="<%= movie.id %>">
            <h2><%= movie.title %></h2>
            <p><strong>Description :</strong> <%= movie.description %></p>
            <p><strong>Date de sortie :</strong> <%= movie.releaseDate %></p>
            <p><strong>Réalisateur :</strong> <%= movie.director %></p>

            <% if (user) { %>
                <button class="add-to-favorites">Ajouter aux favoris</button>
                <button class="remove-from-favorites">Retirer des favoris</button>
            <% } %>

            <% if (user && user.isAdmin) { %>
                <button class="edit-movie">Modifier</button>
                <button class="delete-movie">Supprimer</button>
            <% } %>
        </div>
    <% }); %>
</div>

<% if (user && user.isAdmin) { %>
    <h2>Ajouter un film</h2>
    <form id="add-movie-form">
        <label for="title">Titre :</label>
        <input type="text" id="title" name="title" required>
        <br>
        <label for="description">Description :</label>
        <textarea id="description" name="description" required></textarea>
        <br>
        <label for="releaseDate">Date de sortie :</label>
        <input type="date" id="releaseDate" name="releaseDate" required>
        <br>
        <label for="director">Réalisateur :</label>
        <input type="text" id="director" name="director" required>
        <br>
        <button type="submit">Ajouter</button>
    </form>
<% } %>

<script>
    // Ici, vous pouvez ajouter du JavaScript pour gérer les actions sur les boutons et communiquer avec l'API.
</script>
</body>
</html>